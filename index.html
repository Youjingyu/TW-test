<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Cruise</title>
    <script>
        (function (doc, win) {
            var docEl = doc.documentElement,
                resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
                recalc = function () {
                    var clientWidth = docEl.clientWidth;
                    if (!clientWidth) return;
//                    if(clientWidth>=640){
//                        docEl.style.fontSize = '100px';
//                    }else{
//                        docEl.style.fontSize = 100 * (clientWidth / 640) + 'px';
//                    }
                    clientWidth = clientWidth > 1600 ? 1600 : clientWidth;
                    docEl.style.fontSize = 100 * (clientWidth / 1220) + 'px';
                };

            if (!doc.addEventListener) return;
            win.addEventListener(resizeEvt, recalc, false);
            doc.addEventListener('DOMContentLoaded', recalc, false);
        })(document, window);
    </script>
    <!--[if lt IE 9]>
    <script src=".js/lib/html5shiv.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./css/common.css">
</head>
<body>
    <div class="cr-container">
        <header class="cr-header cr-clearfix">
            <h1 class="cr-header-title">Cruise</h1>
            <div class="cr-header-right">
                <div  class="cr-member-operation">
                    <span>Signed in as </span><a href="#">Member</a>
                    <i class="cr-member-icon"></i><a href="#">Sign out</a>
                </div>
                <ul class="cr-header-nav">
                    <li><a href="#">DASHBOARD</a></li>
                    <li><a href="#">MY CRUISE</a></li>
                    <li><a href="#" class="active">AGENTS</a></li>
                    <li><a href="#">HELP</a></li>
                </ul>
            </div>
        </header>
        <main class="cr-main">
            <div class="cr-main-nav cr-clearfix">
                <h3>Agents</h3>
                <ul class="cr-main-nav-list">
                    <li><a href="#">All</a></li>
                    <li><a href="#" class="active">Physical</a></li>
                    <li><a href="#">Virtual</a></li>
                </ul>
            </div>
            <div class="cr-main-content cr-clearfix">
                <ul class="cr-main-list" id="agent_list">
                    <script type="template" id="agent_list_templ">
                        <% for( var i = 0; i < data.length; i++) { %>
                        <% if(data[i].status === 'idle'){ %>
                        <li class="cr-main-item cr-clearfix cr-main-item-idle">
                        <% }else{ %>
                        <li class="cr-main-item cr-clearfix cr-main-item-building">
                        <% } %>
                            <i></i>
                            <div class="cr-main-item-content">
                                <div class="cr-main-item-row-1">
                                    <span><%=data[i].name%></span>
                                    <span class="cr-main-item-line">|</span>
                                    <span><%=data[i].status%></span>
                                    <span class="cr-main-item-line">|</span>
                                    <span><%=data[i].ip%></span>
                                    <span class="cr-main-item-line">|</span>
                                    <span><%=data[i].path%></span>
                                </div>
                                <div class="cr-main-item-row-2">
                                    <span class="cr-main-item-add js-add-res">
                                        <i>+</i>
                                        <a href="#">Specify Resources</a>
                                    </span>
                                    <span class="cr-main-item-line">|</span>
                                    <span>Resources:</span>
                                    <div class="cr-main-item-reso">
                                        <% for(var j = 0; j < data[i].resources.length; j++) { %>
                                        <span>
                                        <%=data[i].resources[j]%>
                                            <i class="cr-main-item-icon cr-main-item-delete"></i>
                                        </span>
                                        <% } %>
                                    </div>
                                    <% if(data[i].status === 'idle'){ %>
                                    <span class="cr-main-item-deny-con">
                                        <i class="cr-main-item-icon cr-main-item-deny"></i>
                                        <a href="#">Deny</a>
                                    </span>
                                    <% } %>
                                </div>
                                <div class="cr-main-add-dialog">
                                    <span>(separate multiple resources name with commas)</span>
                                    <input>
                                    <div>
                                        <button class="js-dialog-add">Add resources</button>
                                        <button class="js-dialog-close">Close</button>
                                    </div>
                                    <div class="cr-main-triangle"></div>
                                </div>
                            </div>
                        </li>
                        <% } %>
                    </script>
                </ul>
                <div class="cr-main-summary-con">
                    <div class="cr-main-summary">
                        <h4>Summary</h4>
                        <ul>
                            <li><span class="cr-main-summary-status">building</span><span>2</span></li>
                            <li><span class="cr-main-summary-status">building</span><span>2</span></li>
                        </ul>
                    </div>
                    <div class="cr-main-summary">
                        <h4>History</h4>
                        <ul>
                            <li title="bjstdmngbgr02/Acceptance_test">bjstdmngbgr02/Acceptance_test</li>
                            <li title="bjstdmngbgr02/Acceptance_test">bjstdmngbgr02/Acceptance_test</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
<script type="template" id="template">

</script>
<script src="./js/dom-wrap.js"></script>
<script src="./js/template.js"></script>
<script src="./js/data.js"></script>
<script src="./js/common.js"></script>
</html>